"use strict";function AccountFactory($resource,$window,API,AccountService,md5,$q){var _factory={};return _factory.create=function(user){var password=md5.createHash(user.password);return AccountService.create.save({fname:user.fname,lname:user.lname,password:password,email:user.email}).$promise},_factory.get=function(id){return AccountService.one.get(id).$promise},_factory}function AccountService($resource,$window,API){var headers={"Content-type":"application/x-www-form-urlencoded"};return{create:$resource(API+"?action=Register&fname=:fname&lname=:lname&password=:password&email=:email&deviceid=0&devicetype=web",{fname:"@fname",lname:"@lname",email:"@email",password:"@password"},{save:{method:"POST",headers:headers}}),remove:$resource(API+"?action=Register",{},{remove:{method:"DELETE",headers:headers}}),update:$resource(API+"?action=Register&update=true",{},{save:{method:"PUT",headers:headers}}),one:$resource(API+"?action=Register&update=true",{},{get:{method:"GET",headers:headers}})}}function callConfig($stateProvider){$stateProvider.state("jumbo.call",{url:"call",views:{"":{templateUrl:"./templates/call.html",controller:"CallController",controllerAs:"call"}}})}function CallController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()}}function bookingsConfig($stateProvider){$stateProvider.state("jumbo.bookings",{url:"teach/bookings",views:{"":{templateUrl:"./templates/bookings.html",controller:"BookingsController",controllerAs:"booking"}}})}function BookingsController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function categoryConfig($stateProvider){$stateProvider.state("jumbo.category",{url:"learn/category",views:{"":{templateUrl:"./templates/category.html",controller:"CategoryController",controllerAs:"category"}}})}function CategoryController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()},this.search="",this.data="dsdjj"}function chatWindowConfig($stateProvider){$stateProvider.state("jumbo.userChat",{url:"user/chat",views:{"":{templateUrl:"./templates/chat-window.html",controller:"ChatWindowController",controllerAs:"chat"}}})}function ChatWindowController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function consultantConfig($stateProvider){$stateProvider.state("jumbo.consultant",{url:"learn/consultant",views:{"":{templateUrl:"./templates/consultant.html",controller:"ConsultantController",controllerAs:"consultant"}}})}function ConsultantController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()},this.search="",this.data="dsdjj"}function historyConfig($stateProvider){$stateProvider.state("jumbo.history",{url:"user/history",views:{"":{templateUrl:"./templates/history.html",controller:"HistoryController",controllerAs:"history"}}})}function HistoryController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function homeConfig($stateProvider){$stateProvider.state("jumbo.home",{url:"home",views:{"":{templateUrl:"./templates/home.html",controller:"HomeController",controllerAs:"home"}}})}function HomeController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()}}function inboxConfig($stateProvider){$stateProvider.state("jumbo.inbox",{url:"user/inbox",views:{"":{templateUrl:"./templates/inbox.html",controller:"InboxController",controllerAs:"inbox"}}})}function InboxController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function learnConfig($stateProvider){$stateProvider.state("jumbo.learn",{url:"learn",views:{"":{templateUrl:"./templates/ask.html",controller:"LearnController",controllerAs:"learn"}}}).state("jumbo.ask",{url:"learn/ask",views:{"":{templateUrl:"./templates/ask.html",controller:"LearnController",controllerAs:"ask"}}}).state("jumbo.chat",{url:"learn/chat",views:{"":{templateUrl:"./templates/chat.html",controller:"LearnController",controllerAs:"chat"}}}).state("jumbo.video",{url:"learn/video",views:{"":{templateUrl:"./templates/video.html",controller:"LearnController",controllerAs:"chat"}}}).state("jumbo.audio",{url:"learn/audio",views:{"":{templateUrl:"./templates/audio.html",controller:"LearnController",controllerAs:"chat"}}})}function LearnController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function loginConfig($stateProvider){$stateProvider.state("jumbo",{url:"/",views:{"":{templateUrl:"./templates/login.html",controller:"LoginController",controllerAs:"login"}}}).state("jumbo.logout",{url:"/logout",redirectTo:"login"})}function LoginController($rootScope,$scope,$state,$window,$mdDialog,AuthFactory,Facebook){function redirect(){$state.go("jumbo.home")}var _this=this;localStorage.removeItem("fb"),localStorage.removeItem("fb2"),localStorage.clear();var vm=this;this.error="Usuário ou senha inválidos.",this.userNotFound=!1,this.user={},this.newUser=!1;var errorHandler=function(response){_this.unauthorized=401===response.status||400===response.status||404===response.status};this.auth=function(){angular.copy(_this.user);_this.unauthorized=!1,console.log(_this.user),AuthFactory.login(_this.user).then(function(response){return console.log(response),0==response.data.result?(_this.userNotFound=!0,$scope.$apply(),void $state.go("jumbo.register")):(TokenFactory.set(response),void $timeout(function(){redirect()},200))}).catch(errorHandler)},this.facebook=function(){Facebook.login(function(response){AuthFactory.loginfb(response.authResponse.accessToken).then(function(response2){return void 0===response2.data.data.user.cpf?($rootScope.stepUser=void 0,$rootScope.user=response2.data.data.user,$rootScope.user.password=response2.data.data.user.fb_access_token,localStorage.setItem("fb",JSON.stringify(response)),void $state.go("jumbo.register")):(TokenFactory.set(response2),void $timeout(function(){redirect()},200))}).catch(function(){Facebook.api("/me",function(response2){localStorage.setItem("fb",JSON.stringify(response)),localStorage.setItem("fb2",JSON.stringify(response2)),$state.go("jumbo.register")})})})},$rootScope.$on(":signUpComplete",function(data){vm.newUser=!0})}function userConfig($stateProvider){$stateProvider.state("jumbo.user",{url:"user/",views:{"":{templateUrl:"./templates/profile.html",controller:"ProfileController",controllerAs:"user"}}}).state("jumbo.profile",{url:"user/profile",views:{"":{templateUrl:"./templates/profile.html",controller:"ProfileController",controllerAs:"user"}}})}function ProfileController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()}}function registerConfig($stateProvider){$stateProvider.state("jumbo.register",{url:"register",views:{"":{templateUrl:"./templates/register.html",controller:"RegisterController",controllerAs:"register"}}})}function RegisterController(AccountFactory,$rootScope,$state,$scope,$window){var _this=this;this.user={},this.testUser=function(){console.log(_this.user)},this.save=function(){AccountFactory.create(_this.user).then(function(result){console.log(result),"1"===result.result&&($state.go("jumbo"),localStorage.setItem("user_id",result.data.userid),localStorage.setItem("from_register",!0),$rootScope.$emit(":signUpComplete",{}))})}}function scheduleConfig($stateProvider){$stateProvider.state("jumbo.schedule",{url:"user/schedule",views:{"":{templateUrl:"./templates/schedule.html",controller:"ScheduleController",controllerAs:"schedule"}}})}function ScheduleController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function teachConfig($stateProvider){$stateProvider.state("jumbo.teach",{url:"home/teach",views:{"":{templateUrl:"./templates/skills.html",controller:"TeachController",controllerAs:"skills"}}}).state("jumbo.table",{url:"teach/table",views:{"":{templateUrl:"./templates/table.html",controller:"TeachController",controllerAs:"table"}}})}function TeachController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()}}function videoConfig($stateProvider){$stateProvider.state("jumbo.broadcast",{url:"broadcast",views:{"":{templateUrl:"./templates/broadcast.html",controller:"VideoController",controllerAs:"video"}}})}function VideoController($rootScope,$scope,$window,$mdSidenav){this.name="Anne",this.openLeftMenu=function(){$mdSidenav("left").toggle()}}function waitConfig($stateProvider){$stateProvider.state("jumbo.wait",{url:"learn/wait",views:{"":{templateUrl:"./templates/wait.html",controller:"WaitController",controllerAs:"wait"}}})}function WaitController($rootScope,$scope,$window){this.name="Anne",this.items=["oi","kek","haha","lol"]}function menuBars(){return{restrict:"E",scope:{},replace:!0,templateUrl:"../templates/menu-bars.html"}}function authConfig($authProvider,API){$authProvider.loginUrl=API+"?action=Login",$authProvider.authHeader="token",$authProvider.authToken="",$authProvider.storageType="localStorage"}function AuthFactory($auth,md5,$window){var loginOptions={headers:{"Content-Type":"application/x-www-form-urlencoded"}},_factory={login:function(user){return $auth.login({useremail:user.useremail,password:md5.createHash(user.password)},loginOptions)},loginfb:function(token){return $auth.login({fb_access_token:token})},logout:function(){return $window.localStorage.removeItem("user_id"),$window.localStorage.clear(),$auth.logout()},isAuthenticated:function(){return $auth.isAuthenticated()},currentUser:function(){return $auth.getPayLoad()},setToken:function(token){return $auth.setToken(token)}};return _factory}function authRun($rootScope,AuthFactory,$state){$rootScope.$on("$stateChangeStart",function(event,toState){if("login"===toState.name)return AuthFactory.logout();var stateRequireLogin=/^admin/.test(toState.name),isAuthenticated=AuthFactory.isAuthenticated();stateRequireLogin&&!isAuthenticated&&(event.preventDefault(),$state.go("login"))})}function apiConfig(API,$httpProvider,FacebookProvider){FacebookProvider.init("357257514654213"),$httpProvider.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded",$httpProvider.interceptors.push("AuthorizationInterceptor")}function AuthorizationInterceptor($q,$location){return{request:function(config){return $location.$$path.indexOf("login")===-1&&$location.$$path.indexOf("register")===-1,config||$q.when(config)},responseError:function(rejection){switch(rejection.status){case 401:localStorage.clear(),$location.path("/login");break;case 404:var output=rejection.data.output;void 0!==output&&("Empresa não encontrada."===output.payload.message?(localStorage.clear(),$location.path("/login")):"Usuário não encontrado."===output.payload.message&&(localStorage.clear(),$location.path("/login")))}return $q.reject(rejection)}}}angular.module("jumbo-webapp",["ngAnimate","ngSanitize","ngMaterial","ui.router","ui.utils.masks","angular-md5","ngResource","angulartics","facebook","anim-in-out","satellizer","angularUtils.directives.dirPagination"]),angular.module("jumbo-webapp").config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!0)}]),AccountFactory.$inject=["$resource","$window","API","AccountService","md5","$q"],angular.module("jumbo-webapp").factory("AccountFactory",AccountFactory),AccountService.$inject=["$resource","$window","API"],angular.module("jumbo-webapp").factory("AccountService",AccountService),callConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(callConfig),angular.module("jumbo-webapp").controller("CallController",CallController),CallController.$inject=["$rootScope","$scope","$window"],bookingsConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(bookingsConfig),angular.module("jumbo-webapp").controller("BookingsController",BookingsController),BookingsController.$inject=["$rootScope","$scope","$window"],categoryConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(categoryConfig),angular.module("jumbo-webapp").controller("CategoryController",CategoryController),CategoryController.$inject=["$rootScope","$scope","$window"],chatWindowConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(chatWindowConfig),angular.module("jumbo-webapp").controller("ChatWindowController",ChatWindowController),ChatWindowController.$inject=["$rootScope","$scope","$window"],consultantConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(consultantConfig),angular.module("jumbo-webapp").controller("ConsultantController",ConsultantController),ConsultantController.$inject=["$rootScope","$scope","$window"],historyConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(historyConfig),angular.module("jumbo-webapp").controller("HistoryController",HistoryController),HistoryController.$inject=["$rootScope","$scope","$window"],homeConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(homeConfig),angular.module("jumbo-webapp").controller("HomeController",HomeController),HomeController.$inject=["$rootScope","$scope","$window"],inboxConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(inboxConfig),angular.module("jumbo-webapp").controller("InboxController",InboxController),InboxController.$inject=["$rootScope","$scope","$window"],learnConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(learnConfig),angular.module("jumbo-webapp").controller("LearnController",LearnController),LearnController.$inject=["$rootScope","$scope","$window"],loginConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(loginConfig),angular.module("jumbo-webapp").controller("LoginController",LoginController),LoginController.$inject=["$rootScope","$scope","$state","$window","$mdDialog","AuthFactory","Facebook"],userConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(userConfig),angular.module("jumbo-webapp").controller("ProfileController",ProfileController),ProfileController.$inject=["$rootScope","$scope","$window"],registerConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(registerConfig),angular.module("jumbo-webapp").controller("RegisterController",RegisterController),RegisterController.$inject=["AccountFactory","$rootScope","$state","$scope","$window"],scheduleConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(scheduleConfig),angular.module("jumbo-webapp").controller("ScheduleController",ScheduleController),ScheduleController.$inject=["$rootScope","$scope","$window"],teachConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(teachConfig),angular.module("jumbo-webapp").controller("TeachController",TeachController),TeachController.$inject=["$rootScope","$scope","$window"],videoConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(videoConfig),angular.module("jumbo-webapp").controller("VideoController",VideoController),VideoController.$inject=["$rootScope","$scope","$window"],waitConfig.$inject=["$stateProvider"],angular.module("jumbo-webapp").config(waitConfig),angular.module("jumbo-webapp").controller("WaitController",WaitController),WaitController.$inject=["$rootScope","$scope","$window"],angular.module("jumbo-webapp").directive("menuBars",menuBars),authConfig.$inject=["$authProvider","API"],angular.module("jumbo-webapp").config(authConfig),AuthFactory.$inject=["$auth","md5","$window"],angular.module("jumbo-webapp").factory("AuthFactory",AuthFactory),authRun.$inject=["$rootScope","AuthFactory","$state"],angular.module("jumbo-webapp").run(authRun),apiConfig.$inject=["API","$httpProvider","FacebookProvider"],angular.module("jumbo-webapp").config(apiConfig);var host=document.location.hostname,API="http://jumbo.com.br/dashboard/api/api.php";angular.module("jumbo-webapp").constant("API",API),AuthorizationInterceptor.$inject=["$q","$location"],angular.module("jumbo-webapp").factory("AuthorizationInterceptor",AuthorizationInterceptor);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsIm1vZGVscy9hY2NvdW50LmZhY3RvcnkuanMiLCJzZXJ2aWNlcy9hY2NvdW50LnNlcnZpY2UuanMiLCJjb21wb25lbnRzL2F1ZGlvL2NhbGwuY29uZmlnLmpzIiwiY29tcG9uZW50cy9hdWRpby9jYWxsLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2Jvb2tpbmdzL2Jvb2tpbmdzLmNvbmZpZy5qcyIsImNvbXBvbmVudHMvYm9va2luZ3MvYm9va2luZ3MuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvY2F0ZWdvcnkvY2F0ZWdvcnkuY29uZmlnLmpzIiwiY29tcG9uZW50cy9jYXRlZ29yeS9jYXRlZ29yeS5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9jaGF0LXdpbmRvdy9jaGF0LXdpbmRvdy5jb25maWcuanMiLCJjb21wb25lbnRzL2NoYXQtd2luZG93L2NoYXQtd2luZG93LmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2NvbnN1bHRhbnQvY29uc3VsdGFudC5jb25maWcuanMiLCJjb21wb25lbnRzL2NvbnN1bHRhbnQvY29uc3VsdGFudC5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9oaXN0b3J5L2hpc3RvcnkuY29uZmlnLmpzIiwiY29tcG9uZW50cy9oaXN0b3J5L2hpc3RvcnkuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvaG9tZS9ob21lLmNvbmZpZy5qcyIsImNvbXBvbmVudHMvaG9tZS9ob21lLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2luYm94L2luYm94LmNvbmZpZy5qcyIsImNvbXBvbmVudHMvaW5ib3gvaW5ib3guY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvbGVhcm4vbGVhcm4uY29uZmlnLmpzIiwiY29tcG9uZW50cy9sZWFybi9sZWFybi5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb25maWcuanMiLCJjb21wb25lbnRzL2xvZ2luL2xvZ2luLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL3Byb2ZpbGUvcHJvZmlsZS5jb25maWcuanMiLCJjb21wb25lbnRzL3Byb2ZpbGUvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9yZWdpc3Rlci9yZWdpc3Rlci5jb25maWcuanMiLCJjb21wb25lbnRzL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL3NjaGVkdWxlL3NjaGVkdWxlLmNvbmZpZy5qcyIsImNvbXBvbmVudHMvc2NoZWR1bGUvc2NoZWR1bGUuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvdGVhY2gvdGVhY2guY29uZmlnLmpzIiwiY29tcG9uZW50cy90ZWFjaC90ZWFjaC5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy92aWRlby92aWRlby5jb25maWcuanMiLCJjb21wb25lbnRzL3ZpZGVvL3ZpZGVvLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL3dhaXQvd2FpdC5jb25maWcuanMiLCJjb21wb25lbnRzL3dhaXQvd2FpdC5jb250cm9sbGVyLmpzIiwiZGlyZWN0aXZlcy9tZW51LWJhcnMvbWVudS1iYXJzLmRpcmVjdGl2ZS5qcyIsInV0aWxzL2F1dGgvYXV0aC5jb25maWcuanMiLCJ1dGlscy9hdXRoL2F1dGguZmFjdG9yeS5qcyIsInV0aWxzL2F1dGgvYXV0aC5ydW4uanMiLCJ1dGlscy9hcGkvYXBpLmNvbmZpZy5qcyIsInV0aWxzL2FwaS9hcGkuc2VydmljZS5qcyIsInV0aWxzL2FwaS9hcGkuY29uc3RhbnQuanMiXSwibmFtZXMiOlsiQWNjb3VudEZhY3RvcnkiLCIkcmVzb3VyY2UiLCIkd2luZG93IiwiQVBJIiwiQWNjb3VudFNlcnZpY2UiLCJtZDUiLCIkcSIsIl9mYWN0b3J5IiwiY3JlYXRlIiwidXNlciIsInBhc3N3b3JkIiwiY3JlYXRlSGFzaCIsInNhdmUiLCJmbmFtZSIsImxuYW1lIiwiZW1haWwiLCIkcHJvbWlzZSIsImdldCIsImlkIiwib25lIiwiaGVhZGVycyIsIkNvbnRlbnQtdHlwZSIsIm1ldGhvZCIsInJlbW92ZSIsInVwZGF0ZSIsImNhbGxDb25maWciLCIkc3RhdGVQcm92aWRlciIsInN0YXRlIiwidXJsIiwidmlld3MiLCIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJDYWxsQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCIkc2NvcGUiLCIkbWRTaWRlbmF2IiwidGhpcyIsIm5hbWUiLCJvcGVuTGVmdE1lbnUiLCJ0b2dnbGUiLCJib29raW5nc0NvbmZpZyIsIkJvb2tpbmdzQ29udHJvbGxlciIsIml0ZW1zIiwiY2F0ZWdvcnlDb25maWciLCJDYXRlZ29yeUNvbnRyb2xsZXIiLCJzZWFyY2giLCJkYXRhIiwiY2hhdFdpbmRvd0NvbmZpZyIsIkNoYXRXaW5kb3dDb250cm9sbGVyIiwiY29uc3VsdGFudENvbmZpZyIsIkNvbnN1bHRhbnRDb250cm9sbGVyIiwiaGlzdG9yeUNvbmZpZyIsIkhpc3RvcnlDb250cm9sbGVyIiwiaG9tZUNvbmZpZyIsIkhvbWVDb250cm9sbGVyIiwiaW5ib3hDb25maWciLCJJbmJveENvbnRyb2xsZXIiLCJsZWFybkNvbmZpZyIsIkxlYXJuQ29udHJvbGxlciIsImxvZ2luQ29uZmlnIiwicmVkaXJlY3RUbyIsIkxvZ2luQ29udHJvbGxlciIsIiRzdGF0ZSIsIiRtZERpYWxvZyIsIkF1dGhGYWN0b3J5IiwiRmFjZWJvb2siLCJyZWRpcmVjdCIsImdvIiwiX3RoaXMiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJ2bSIsImVycm9yIiwidXNlck5vdEZvdW5kIiwibmV3VXNlciIsImVycm9ySGFuZGxlciIsInJlc3BvbnNlIiwidW5hdXRob3JpemVkIiwic3RhdHVzIiwiYXV0aCIsImFuZ3VsYXIiLCJjb3B5IiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwidGhlbiIsInJlc3VsdCIsIiRhcHBseSIsIlRva2VuRmFjdG9yeSIsInNldCIsIiR0aW1lb3V0IiwiY2F0Y2giLCJmYWNlYm9vayIsImxvZ2luZmIiLCJhdXRoUmVzcG9uc2UiLCJhY2Nlc3NUb2tlbiIsInJlc3BvbnNlMiIsInVuZGVmaW5lZCIsImNwZiIsInN0ZXBVc2VyIiwiZmJfYWNjZXNzX3Rva2VuIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhcGkiLCIkb24iLCJ1c2VyQ29uZmlnIiwiUHJvZmlsZUNvbnRyb2xsZXIiLCJyZWdpc3RlckNvbmZpZyIsIlJlZ2lzdGVyQ29udHJvbGxlciIsInRlc3RVc2VyIiwidXNlcmlkIiwiJGVtaXQiLCJzY2hlZHVsZUNvbmZpZyIsIlNjaGVkdWxlQ29udHJvbGxlciIsInRlYWNoQ29uZmlnIiwiVGVhY2hDb250cm9sbGVyIiwidmlkZW9Db25maWciLCJWaWRlb0NvbnRyb2xsZXIiLCJ3YWl0Q29uZmlnIiwiV2FpdENvbnRyb2xsZXIiLCJtZW51QmFycyIsInJlc3RyaWN0Iiwic2NvcGUiLCJyZXBsYWNlIiwiYXV0aENvbmZpZyIsIiRhdXRoUHJvdmlkZXIiLCJsb2dpblVybCIsImF1dGhIZWFkZXIiLCJhdXRoVG9rZW4iLCJzdG9yYWdlVHlwZSIsIiRhdXRoIiwibG9naW5PcHRpb25zIiwiQ29udGVudC1UeXBlIiwidXNlcmVtYWlsIiwidG9rZW4iLCJsb2dvdXQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJjdXJyZW50VXNlciIsImdldFBheUxvYWQiLCJzZXRUb2tlbiIsImF1dGhSdW4iLCJldmVudCIsInRvU3RhdGUiLCJzdGF0ZVJlcXVpcmVMb2dpbiIsInRlc3QiLCJwcmV2ZW50RGVmYXVsdCIsImFwaUNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJGYWNlYm9va1Byb3ZpZGVyIiwiaW5pdCIsImRlZmF1bHRzIiwiY29tbW9uIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIkF1dGhvcml6YXRpb25JbnRlcmNlcHRvciIsIiRsb2NhdGlvbiIsInJlcXVlc3QiLCJjb25maWciLCIkJHBhdGgiLCJpbmRleE9mIiwid2hlbiIsInJlc3BvbnNlRXJyb3IiLCJyZWplY3Rpb24iLCJwYXRoIiwib3V0cHV0IiwicGF5bG9hZCIsIm1lc3NhZ2UiLCJyZWplY3QiLCJtb2R1bGUiLCIkbG9jYXRpb25Qcm92aWRlciIsImh0bWw1TW9kZSIsImZhY3RvcnkiLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwicnVuIiwiaG9zdCIsImRvY3VtZW50IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImNvbnN0YW50Il0sIm1hcHBpbmdzIjoiQUFBQSxZQ0lBLFNBQVNBLGdCQUFlQyxVQUFXQyxRQUFTQyxJQUFLQyxlQUFnQkMsSUFBS0MsSUFFcEUsR0FBSUMsWUFnQkosT0FkQUEsVUFBU0MsT0FBUyxTQUFVQyxNQUMxQixHQUFJQyxVQUFXTCxJQUFJTSxXQUFXRixLQUFLQyxTQUNuQyxPQUFPTixnQkFBZUksT0FBT0ksTUFDM0JDLE1BQU9KLEtBQUtJLE1BQ1pDLE1BQU9MLEtBQUtLLE1BQ1pKLFNBQVVBLFNBQ1ZLLE1BQU9OLEtBQUtNLFFBQ1hDLFVBR0xULFNBQVNVLElBQU0sU0FBVUMsSUFDdkIsTUFBT2QsZ0JBQWVlLElBQUlGLElBQUlDLElBQUlGLFVBRzdCVCxTQ2pCVCxRQUFTSCxnQkFBZUgsVUFBV0MsUUFBU0MsS0FFMUMsR0FBSWlCLFVBQ0ZDLGVBQWdCLG9DQUlsQixRQUNFYixPQUFRUCxVQUFVRSxJQUFNLHdHQUN0QlUsTUFBTyxTQUNQQyxNQUFPLFNBQ1BDLE1BQU8sU0FDUEwsU0FBVSxjQUVWRSxNQUNFVSxPQUFRLE9BQ1JGLFFBQVNBLFdBR2JHLE9BQVF0QixVQUFVRSxJQUFNLHVCQUN0Qm9CLFFBQ0VELE9BQVEsU0FDUkYsUUFBU0EsV0FHYkksT0FBUXZCLFVBQVVFLElBQU0sbUNBQ3RCUyxNQUNFVSxPQUFRLE1BQ1JGLFFBQVNBLFdBR2JELElBQUtsQixVQUFVRSxJQUFNLG1DQUNuQmMsS0FDRUssT0FBUSxNQUNSRixRQUFTQSxZQ25DakIsUUFBU0ssWUFBV0MsZ0JBQ2xCQSxlQUFlQyxNQUFNLGVBQ25CQyxJQUFLLE9BQ0xDLE9BQ0VDLElBQ0VDLFlBQWEsd0JBQ2JDLFdBQVksaUJBQ1pDLGFBQWMsV0NMdEIsUUFB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QUFReUYsT0FBTyxpQkFBaUJYLE9BQU92QyxZQ0F2Q3ZDLFFBQVF5RixPQUFPLGlCQUFpQjVJLFdBQVcsaUJBQWtCMkYsZ0JBRTdEQSxlQUFlcUQsU0FBVyxhQUFjLFNBQVUsV0NGbEQ3RixRQUFReUYsT0FBTyxpQkFBaUJLLFVBQVUsV0FBWXJELHFEQ0F0RHpDLFFBQVF5RixPQUFPLGlCQUFpQlgsT0FBT2pDLDBEQ0F2QzdDLFFBQVF5RixPQUFPLGlCQUFpQkcsUUFBUSxjQUFlN0csbUVDQXZEaUIsUUFBUXlGLE9BQU8saUJBQWlCTSxJQUFJbEMsc0VDQXBDN0QsUUFBUXlGLE9BQU8saUJBQWlCWCxPQUFPWCxVRUF2QyxJQUFJNkIsTUFBT0MsU0FBU0MsU0FBU0MsU0FFekJuTCxJQUFNZ0wsNENBRVZoRyxTQUFReUYsT0FBTyxpQkFBaUJXLFNBQVMsTUFBT3BMLHlEREpoRGdGLFFBQVF5RixPQUFPLGlCQUVkRyxRQUFRLDJCQUE0QmpCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnLCBbJ25nQW5pbWF0ZScsICduZ1Nhbml0aXplJywgJ25nTWF0ZXJpYWwnLCAndWkucm91dGVyJywgJ3VpLnV0aWxzLm1hc2tzJywgJ2FuZ3VsYXItbWQ1JywgJ25nUmVzb3VyY2UnLCAnYW5ndWxhcnRpY3MnLCAnZmFjZWJvb2snLCAnYW5pbS1pbi1vdXQnLCAnc2F0ZWxsaXplcicsICdhbmd1bGFyVXRpbHMuZGlyZWN0aXZlcy5kaXJQYWdpbmF0aW9uJ1xuLy8nb2MubGF6eUxvYWQnIFxuXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xufV0pO1xuXG4vLyAgIGFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKCBbIFxuLy8gICAgICAgJyRvY0xhenlMb2FkUHJvdmlkZXInLCBmdW5jdGlvbiAoICRvY0xhenlMb2FkUHJvdmlkZXIpIHtcbi8vICAgICAgICAgICAkb2NMYXp5TG9hZFByb3ZpZGVyLmNvbmZpZygge1xuLy8gICAgICAgICAgICAgICBkZWJ1ZyA6IHRydWVcbi8vICAgICAgICAgICB9ICk7XG4vLyAgICAgICB9XG4vLyAgIF0gKTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuZmFjdG9yeSgnQWNjb3VudEZhY3RvcnknLCBBY2NvdW50RmFjdG9yeSk7XG5cbmZ1bmN0aW9uIEFjY291bnRGYWN0b3J5KCRyZXNvdXJjZSwgJHdpbmRvdywgQVBJLCBBY2NvdW50U2VydmljZSwgbWQ1LCAkcSkge1xuXG4gIHZhciBfZmFjdG9yeSA9IHt9O1xuXG4gIF9mYWN0b3J5LmNyZWF0ZSA9IGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdmFyIHBhc3N3b3JkID0gbWQ1LmNyZWF0ZUhhc2godXNlci5wYXNzd29yZCk7XG4gICAgcmV0dXJuIEFjY291bnRTZXJ2aWNlLmNyZWF0ZS5zYXZlKHtcbiAgICAgIGZuYW1lOiB1c2VyLmZuYW1lLFxuICAgICAgbG5hbWU6IHVzZXIubG5hbWUsXG4gICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbFxuICAgIH0pLiRwcm9taXNlO1xuICB9O1xuXG4gIF9mYWN0b3J5LmdldCA9IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBBY2NvdW50U2VydmljZS5vbmUuZ2V0KGlkKS4kcHJvbWlzZTtcbiAgfTtcblxuICByZXR1cm4gX2ZhY3Rvcnk7XG59IiwiLyogZ2xvYmFscyBhbmd1bGFyICovXG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuZmFjdG9yeSgnQWNjb3VudFNlcnZpY2UnLCBBY2NvdW50U2VydmljZSk7XG5cbmZ1bmN0aW9uIEFjY291bnRTZXJ2aWNlKCRyZXNvdXJjZSwgJHdpbmRvdywgQVBJKSB7XG5cbiAgdmFyIGhlYWRlcnMgPSB7XG4gICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgLy8gJ0NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nXG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGU6ICRyZXNvdXJjZShBUEkgKyAnP2FjdGlvbj1SZWdpc3RlciZmbmFtZT06Zm5hbWUmbG5hbWU9OmxuYW1lJnBhc3N3b3JkPTpwYXNzd29yZCZlbWFpbD06ZW1haWwmZGV2aWNlaWQ9MCZkZXZpY2V0eXBlPXdlYicsIHtcbiAgICAgIGZuYW1lOiAnQGZuYW1lJyxcbiAgICAgIGxuYW1lOiAnQGxuYW1lJyxcbiAgICAgIGVtYWlsOiAnQGVtYWlsJyxcbiAgICAgIHBhc3N3b3JkOiAnQHBhc3N3b3JkJ1xuICAgIH0sIHtcbiAgICAgIHNhdmU6IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgIH1cbiAgICB9KSxcbiAgICByZW1vdmU6ICRyZXNvdXJjZShBUEkgKyAnP2FjdGlvbj1SZWdpc3RlcicsIHt9LCB7XG4gICAgICByZW1vdmU6IHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgfVxuICAgIH0pLFxuICAgIHVwZGF0ZTogJHJlc291cmNlKEFQSSArICc/YWN0aW9uPVJlZ2lzdGVyJnVwZGF0ZT10cnVlJywge30sIHtcbiAgICAgIHNhdmU6IHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgfVxuICAgIH0pLFxuICAgIG9uZTogJHJlc291cmNlKEFQSSArICc/YWN0aW9uPVJlZ2lzdGVyJnVwZGF0ZT10cnVlJywge30sIHtcbiAgICAgIGdldDoge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGNhbGxDb25maWcpO1xuXG5mdW5jdGlvbiBjYWxsQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd1bGVhcm4uY2FsbCcsIHtcbiAgICB1cmw6ICdjYWxsJyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9jYWxsLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ2FsbENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdjYWxsJ1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAgcmVzb2x2ZToge1xuICAgIC8vICAgIGxhenlMb2FkOiBmdW5jdGlvbigkb2NMYXp5TG9hZCkge1xuICAgIC8vICAgICAgIHJldHVybiAkb2NMYXp5TG9hZC5sb2FkKCdsYXp5LmRpcmVjdGl2ZS5qcycpO1xuICAgIC8vICAgfVxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbnRyb2xsZXIoJ0NhbGxDb250cm9sbGVyJywgQ2FsbENvbnRyb2xsZXIpO1xuXG5DYWxsQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckd2luZG93J107XG5cbmZ1bmN0aW9uIENhbGxDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgJG1kU2lkZW5hdikge1xuICB0aGlzLm5hbWUgPSAnQW5uZSc7XG5cbiAgdGhpcy5vcGVuTGVmdE1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGJvb2tpbmdzQ29uZmlnKTtcblxuZnVuY3Rpb24gYm9va2luZ3NDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3VsZWFybi5ib29raW5ncycsIHtcbiAgICB1cmw6ICd0ZWFjaC9ib29raW5ncycsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvYm9va2luZ3MuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdCb29raW5nc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdib29raW5nJ1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAgcmVzb2x2ZToge1xuICAgIC8vICAgIGxhenlMb2FkOiBmdW5jdGlvbigkb2NMYXp5TG9hZCkge1xuICAgIC8vICAgICAgIHJldHVybiAkb2NMYXp5TG9hZC5sb2FkKCdsYXp5LmRpcmVjdGl2ZS5qcycpO1xuICAgIC8vICAgfVxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbnRyb2xsZXIoJ0Jvb2tpbmdzQ29udHJvbGxlcicsIEJvb2tpbmdzQ29udHJvbGxlcik7XG5cbkJvb2tpbmdzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckd2luZG93J107XG5cbmZ1bmN0aW9uIEJvb2tpbmdzQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpIHtcbiAgdGhpcy5uYW1lID0gJ0FubmUnO1xuXG4gIHRoaXMuaXRlbXMgPSBbJ29pJywgJ2tlaycsICdoYWhhJywgJ2xvbCddO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGNhdGVnb3J5Q29uZmlnKTtcblxuZnVuY3Rpb24gY2F0ZWdvcnlDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3VsZWFybi5jYXRlZ29yeScsIHtcbiAgICB1cmw6ICdsZWFybi9jYXRlZ29yeScsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvY2F0ZWdvcnkuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdDYXRlZ29yeUNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdjYXRlZ29yeSdcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb250cm9sbGVyKCdDYXRlZ29yeUNvbnRyb2xsZXInLCBDYXRlZ29yeUNvbnRyb2xsZXIpO1xuXG5DYXRlZ29yeUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHdpbmRvdyddO1xuXG5mdW5jdGlvbiBDYXRlZ29yeUNvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkbWRTaWRlbmF2KSB7XG4gIHRoaXMubmFtZSA9ICdBbm5lJztcblxuICB0aGlzLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gIH07XG5cbiAgdGhpcy5zZWFyY2ggPSAnJztcblxuICB0aGlzLmRhdGEgPSAnZHNkamonO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGNoYXRXaW5kb3dDb25maWcpO1xuXG5mdW5jdGlvbiBjaGF0V2luZG93Q29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd1bGVhcm4udXNlckNoYXQnLCB7XG4gICAgdXJsOiAndXNlci9jaGF0JyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9jaGF0LXdpbmRvdy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0NoYXRXaW5kb3dDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnY2hhdCdcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb250cm9sbGVyKCdDaGF0V2luZG93Q29udHJvbGxlcicsIENoYXRXaW5kb3dDb250cm9sbGVyKTtcblxuQ2hhdFdpbmRvd0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHdpbmRvdyddO1xuXG5mdW5jdGlvbiBDaGF0V2luZG93Q29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpIHtcbiAgdGhpcy5uYW1lID0gJ0FubmUnO1xuXG4gIHRoaXMuaXRlbXMgPSBbJ29pJywgJ2tlaycsICdoYWhhJywgJ2xvbCddO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGNvbnN1bHRhbnRDb25maWcpO1xuXG5mdW5jdGlvbiBjb25zdWx0YW50Q29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd1bGVhcm4uY29uc3VsdGFudCcsIHtcbiAgICB1cmw6ICdsZWFybi9jb25zdWx0YW50JyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9jb25zdWx0YW50Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnQ29uc3VsdGFudENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdjb25zdWx0YW50J1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAgcmVzb2x2ZToge1xuICAgIC8vICAgIGxhenlMb2FkOiBmdW5jdGlvbigkb2NMYXp5TG9hZCkge1xuICAgIC8vICAgICAgIHJldHVybiAkb2NMYXp5TG9hZC5sb2FkKCdsYXp5LmRpcmVjdGl2ZS5qcycpO1xuICAgIC8vICAgfVxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbnRyb2xsZXIoJ0NvbnN1bHRhbnRDb250cm9sbGVyJywgQ29uc3VsdGFudENvbnRyb2xsZXIpO1xuXG5Db25zdWx0YW50Q29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckd2luZG93J107XG5cbmZ1bmN0aW9uIENvbnN1bHRhbnRDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgJG1kU2lkZW5hdikge1xuICB0aGlzLm5hbWUgPSAnQW5uZSc7XG5cbiAgdGhpcy5vcGVuTGVmdE1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuICB9O1xuXG4gIHRoaXMuc2VhcmNoID0gJyc7XG5cbiAgdGhpcy5kYXRhID0gJ2RzZGpqJztcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbmZpZyhoaXN0b3J5Q29uZmlnKTtcblxuZnVuY3Rpb24gaGlzdG9yeUNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLmhpc3RvcnknLCB7XG4gICAgdXJsOiAndXNlci9oaXN0b3J5JyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9oaXN0b3J5Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnSGlzdG9yeUNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdoaXN0b3J5J1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAgcmVzb2x2ZToge1xuICAgIC8vICAgIGxhenlMb2FkOiBmdW5jdGlvbigkb2NMYXp5TG9hZCkge1xuICAgIC8vICAgICAgIHJldHVybiAkb2NMYXp5TG9hZC5sb2FkKCdsYXp5LmRpcmVjdGl2ZS5qcycpO1xuICAgIC8vICAgfVxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbnRyb2xsZXIoJ0hpc3RvcnlDb250cm9sbGVyJywgSGlzdG9yeUNvbnRyb2xsZXIpO1xuXG5IaXN0b3J5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckd2luZG93J107XG5cbmZ1bmN0aW9uIEhpc3RvcnlDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdykge1xuICB0aGlzLm5hbWUgPSAnQW5uZSc7XG5cbiAgdGhpcy5pdGVtcyA9IFsnb2knLCAna2VrJywgJ2hhaGEnLCAnbG9sJ107XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcoaG9tZUNvbmZpZyk7XG5cbmZ1bmN0aW9uIGhvbWVDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3VsZWFybi5ob21lJywge1xuICAgIHVybDogJ2hvbWUnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2hvbWUuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2hvbWUnXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBIb21lQ29udHJvbGxlcik7XG5cbkhvbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyR3aW5kb3cnXTtcblxuZnVuY3Rpb24gSG9tZUNvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkbWRTaWRlbmF2KSB7XG4gIHRoaXMubmFtZSA9ICdBbm5lJztcblxuICB0aGlzLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcoaW5ib3hDb25maWcpO1xuXG5mdW5jdGlvbiBpbmJveENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLmluYm94Jywge1xuICAgIHVybDogJ3VzZXIvaW5ib3gnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2luYm94Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnSW5ib3hDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnaW5ib3gnXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29udHJvbGxlcignSW5ib3hDb250cm9sbGVyJywgSW5ib3hDb250cm9sbGVyKTtcblxuSW5ib3hDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyR3aW5kb3cnXTtcblxuZnVuY3Rpb24gSW5ib3hDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdykge1xuICB0aGlzLm5hbWUgPSAnQW5uZSc7XG5cbiAgdGhpcy5pdGVtcyA9IFsnb2knLCAna2VrJywgJ2hhaGEnLCAnbG9sJ107XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcobGVhcm5Db25maWcpO1xuXG5mdW5jdGlvbiBsZWFybkNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLmxlYXJuJywge1xuICAgIHVybDogJ2xlYXJuJyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9hc2suaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdMZWFybkNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdsZWFybidcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSkuc3RhdGUoJ3VsZWFybi5hc2snLCB7XG4gICAgdXJsOiAnbGVhcm4vYXNrJyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9hc2suaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdMZWFybkNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdhc2snXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pLnN0YXRlKCd1bGVhcm4uY2hhdCcsIHtcbiAgICB1cmw6ICdsZWFybi9jaGF0JyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9jaGF0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTGVhcm5Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnY2hhdCdcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSkuc3RhdGUoJ3VsZWFybi52aWRlbycsIHtcbiAgICB1cmw6ICdsZWFybi92aWRlbycsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvdmlkZW8uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdMZWFybkNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdjaGF0J1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAgcmVzb2x2ZToge1xuICAgIC8vICAgIGxhenlMb2FkOiBmdW5jdGlvbigkb2NMYXp5TG9hZCkge1xuICAgIC8vICAgICAgIHJldHVybiAkb2NMYXp5TG9hZC5sb2FkKCdsYXp5LmRpcmVjdGl2ZS5qcycpO1xuICAgIC8vICAgfVxuICB9KS5zdGF0ZSgndWxlYXJuLmF1ZGlvJywge1xuICAgIHVybDogJ2xlYXJuL2F1ZGlvJyxcbiAgICB2aWV3czoge1xuICAgICAgJyc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9hdWRpby5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0xlYXJuQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ2NoYXQnXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29udHJvbGxlcignTGVhcm5Db250cm9sbGVyJywgTGVhcm5Db250cm9sbGVyKTtcblxuTGVhcm5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyR3aW5kb3cnXTtcblxuZnVuY3Rpb24gTGVhcm5Db250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdykge1xuICB0aGlzLm5hbWUgPSAnQW5uZSc7XG5cbiAgdGhpcy5pdGVtcyA9IFsnb2knLCAna2VrJywgJ2hhaGEnLCAnbG9sJ107XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcobG9naW5Db25maWcpO1xuXG5mdW5jdGlvbiBsb2dpbkNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuJywge1xuICAgIHVybDogJy8nLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2xvZ2luLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnbG9naW4nXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pLnN0YXRlKCd1bGVhcm4ubG9nb3V0Jywge1xuICAgIHVybDogJy9sb2dvdXQnLFxuICAgIHJlZGlyZWN0VG86ICdsb2dpbidcbiAgfSk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cbkxvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckc3RhdGUnLCAnJHdpbmRvdycsICckbWREaWFsb2cnLCAnQXV0aEZhY3RvcnknLCAnRmFjZWJvb2snXTtcblxuZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHN0YXRlLCAkd2luZG93LCAkbWREaWFsb2csIEF1dGhGYWN0b3J5LCBGYWNlYm9vaykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmYicpO1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZmIyJyk7XG4gIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICB2YXIgdm0gPSB0aGlzO1xuICB0aGlzLmVycm9yID0gJ1VzdcOhcmlvIG91IHNlbmhhIGludsOhbGlkb3MuJztcbiAgdGhpcy51c2VyTm90Rm91bmQgPSBmYWxzZTtcbiAgdGhpcy51c2VyID0ge307XG4gIHRoaXMubmV3VXNlciA9IGZhbHNlO1xuXG4gIHZhciBlcnJvckhhbmRsZXIgPSBmdW5jdGlvbiBlcnJvckhhbmRsZXIocmVzcG9uc2UpIHtcbiAgICBfdGhpcy51bmF1dGhvcml6ZWQgPSByZXNwb25zZS5zdGF0dXMgPT09IDQwMSB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwMCB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwNDtcbiAgfTtcblxuICB0aGlzLmF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvcHlVc2VyID0gYW5ndWxhci5jb3B5KF90aGlzLnVzZXIpO1xuICAgIF90aGlzLnVuYXV0aG9yaXplZCA9IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKF90aGlzLnVzZXIpO1xuICAgIEF1dGhGYWN0b3J5LmxvZ2luKF90aGlzLnVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQgPT0gMCkge1xuICAgICAgICBfdGhpcy51c2VyTm90Rm91bmQgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICRzdGF0ZS5nbygndWxlYXJuLnJlZ2lzdGVyJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFRva2VuRmFjdG9yeS5zZXQocmVzcG9uc2UpO1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVkaXJlY3QoKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChlcnJvckhhbmRsZXIpO1xuICB9O1xuXG4gIHRoaXMuZmFjZWJvb2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy92YXIgY29weVVzZXIgPSBhbmd1bGFyLmNvcHkodGhpcy51c2VyKTtcbiAgICBGYWNlYm9vay5sb2dpbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIEF1dGhGYWN0b3J5LmxvZ2luZmIocmVzcG9uc2UuYXV0aFJlc3BvbnNlLmFjY2Vzc1Rva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZTIpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlMi5kYXRhLmRhdGEudXNlci5jcGYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICRyb290U2NvcGUuc3RlcFVzZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gcmVzcG9uc2UyLmRhdGEuZGF0YS51c2VyO1xuICAgICAgICAgICRyb290U2NvcGUudXNlci5wYXNzd29yZCA9IHJlc3BvbnNlMi5kYXRhLmRhdGEudXNlci5mYl9hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZiJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTtcbiAgICAgICAgICAkc3RhdGUuZ28oJ3VsZWFybi5yZWdpc3RlcicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBUb2tlbkZhY3Rvcnkuc2V0KHJlc3BvbnNlMik7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVkaXJlY3QoKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIEZhY2Vib29rLmFwaSgnL21lJywgZnVuY3Rpb24gKHJlc3BvbnNlMikge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZiMicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlMikpO1xuICAgICAgICAgICRzdGF0ZS5nbygndWxlYXJuLnJlZ2lzdGVyJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHJvb3RTY29wZS4kb24oJzpzaWduVXBDb21wbGV0ZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0ubmV3VXNlciA9IHRydWU7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJlZGlyZWN0KCkge1xuICAgICRzdGF0ZS5nbygndWxlYXJuLmhvbWUnKTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKHVzZXJDb25maWcpO1xuXG5mdW5jdGlvbiB1c2VyQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd1bGVhcm4udXNlcicsIHtcbiAgICB1cmw6ICd1c2VyLycsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvcHJvZmlsZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1Byb2ZpbGVDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndXNlcidcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSkuc3RhdGUoJ3VsZWFybi5wcm9maWxlJywge1xuICAgIHVybDogJ3VzZXIvcHJvZmlsZScsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvcHJvZmlsZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1Byb2ZpbGVDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndXNlcidcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb250cm9sbGVyKCdQcm9maWxlQ29udHJvbGxlcicsIFByb2ZpbGVDb250cm9sbGVyKTtcblxuUHJvZmlsZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHdpbmRvdyddO1xuXG5mdW5jdGlvbiBQcm9maWxlQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRtZFNpZGVuYXYpIHtcbiAgdGhpcy5uYW1lID0gJ0FubmUnO1xuXG4gIHRoaXMub3BlbkxlZnRNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbmZpZyhyZWdpc3RlckNvbmZpZyk7XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCd1bGVhcm4ucmVnaXN0ZXInLCB7XG4gICAgdXJsOiAncmVnaXN0ZXInLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL3JlZ2lzdGVyLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcblxuUmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ0FjY291bnRGYWN0b3J5JywgJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJyRzY29wZScsICckd2luZG93J107XG5cbmZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihBY2NvdW50RmFjdG9yeSwgJHJvb3RTY29wZSwgJHN0YXRlLCAkc2NvcGUsICR3aW5kb3cpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLnVzZXIgPSB7fTtcblxuICB0aGlzLnRlc3RVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKF90aGlzLnVzZXIpO1xuICB9O1xuXG4gIHRoaXMuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBBY2NvdW50RmFjdG9yeS5jcmVhdGUoX3RoaXMudXNlcikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICBpZiAocmVzdWx0LnJlc3VsdCA9PT0gXCIxXCIpIHtcbiAgICAgICAgJHN0YXRlLmdvKCd1bGVhcm4nKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJfaWQnLCByZXN1bHQuZGF0YS51c2VyaWQpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZnJvbV9yZWdpc3RlcicsIHRydWUpO1xuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJzpzaWduVXBDb21wbGV0ZScsIHt9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyogICAgICAgICAgaWYgKGZiID09PSBudWxsKXtcclxuICAgICAgICAgICAgICBBdXRoRmFjdG9yeVxyXG4gICAgICAgICAgICAgIC5sb2dpbih1c2VyKVxyXG4gICAgICAgICAgICAgIC50aGVuKFRva2VuRmFjdG9yeS5zZXQpXHJcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFueS5iaWxsaW5nLnBheW1lbnRUeXBlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FkbWluLmJpa29vcycpO1xyXG4gICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwID0gMjtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5jb21wYW55X2lkID0gcmVzdWx0LmRhdGEuX2lkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEub3V0cHV0LnBheWxvYWQubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlID09PSAnU2VuaGEgaW5jb3JyZXRhIScpIHtcclxuICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coXHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmFsZXJ0KClcclxuICAgICAgICAgICAgICAgICAgICAgIC5jbGlja091dHNpZGVUb0Nsb3NlKHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAudGl0bGUoJ09jb3JyZXJhbSBvcyBlcnJvcyBhYmFpeG8uJylcclxuICAgICAgICAgICAgICAgICAgICAgIC50ZXh0Q29udGVudCgnSsOhIGV4aXN0ZSB1bSB1c3XDoXJpbyBjYWRhc3RybyBjb20gZXN0ZSBlbWFpbC4gVGVudGUgZmF6ZXIgbyBsb2dpbi4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgLm9rKCdPaycpXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBBdXRoRmFjdG9yeVxyXG4gICAgICAgICAgICAgIC5sb2dpbmZiKEpTT04ucGFyc2UoZmIpLmF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlbilcclxuICAgICAgICAgICAgICAudGhlbihUb2tlbkZhY3Rvcnkuc2V0KVxyXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhbnkuYmlsbGluZy5wYXltZW50VHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhZG1pbi5iaWtvb3MnKTtcclxuICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RlcCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGFueV9pZCA9IHJlc3VsdC5kYXRhLl9pZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLm91dHB1dC5wYXlsb2FkLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSA9PT0gJ1NlbmhhIGluY29ycmV0YSEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KFxyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5hbGVydCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAuY2xpY2tPdXRzaWRlVG9DbG9zZSh0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgLnRpdGxlKCdPY29ycmVyYW0gb3MgZXJyb3MgYWJhaXhvLicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAudGV4dENvbnRlbnQoJ0rDoSBleGlzdGUgdW0gdXN1w6FyaW8gY2FkYXN0cm8gY29tIGVzdGUgZW1haWwuIFRlbnRlIGZhemVyIG8gbG9naW4uJylcclxuICAgICAgICAgICAgICAgICAgICAgIC5vaygnT2snKVxyXG4gICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7ICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pOyovXG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcoc2NoZWR1bGVDb25maWcpO1xuXG5mdW5jdGlvbiBzY2hlZHVsZUNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLnNjaGVkdWxlJywge1xuICAgIHVybDogJ3VzZXIvc2NoZWR1bGUnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL3NjaGVkdWxlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2NoZWR1bGVDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnc2NoZWR1bGUnXG4gICAgICB9XG4gICAgfVxuICAgIC8vICByZXNvbHZlOiB7XG4gICAgLy8gICAgbGF6eUxvYWQ6IGZ1bmN0aW9uKCRvY0xhenlMb2FkKSB7XG4gICAgLy8gICAgICAgcmV0dXJuICRvY0xhenlMb2FkLmxvYWQoJ2xhenkuZGlyZWN0aXZlLmpzJyk7XG4gICAgLy8gICB9XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29udHJvbGxlcignU2NoZWR1bGVDb250cm9sbGVyJywgU2NoZWR1bGVDb250cm9sbGVyKTtcblxuU2NoZWR1bGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyR3aW5kb3cnXTtcblxuZnVuY3Rpb24gU2NoZWR1bGVDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdykge1xuICB0aGlzLm5hbWUgPSAnQW5uZSc7XG5cbiAgdGhpcy5pdGVtcyA9IFsnb2knLCAna2VrJywgJ2hhaGEnLCAnbG9sJ107XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcodGVhY2hDb25maWcpO1xuXG5mdW5jdGlvbiB0ZWFjaENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLnRlYWNoJywge1xuICAgIHVybDogJ2hvbWUvdGVhY2gnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL3NraWxscy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlYWNoQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3NraWxscydcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSkuc3RhdGUoJ3VsZWFybi50YWJsZScsIHtcbiAgICB1cmw6ICd0ZWFjaC90YWJsZScsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvdGFibGUuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWFjaENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd0YWJsZSdcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb250cm9sbGVyKCdUZWFjaENvbnRyb2xsZXInLCBUZWFjaENvbnRyb2xsZXIpO1xuXG5UZWFjaENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHdpbmRvdyddO1xuXG5mdW5jdGlvbiBUZWFjaENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkbWRTaWRlbmF2KSB7XG4gIHRoaXMubmFtZSA9ICdBbm5lJztcblxuICB0aGlzLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb25maWcodmlkZW9Db25maWcpO1xuXG5mdW5jdGlvbiB2aWRlb0NvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLmJyb2FkY2FzdCcsIHtcbiAgICB1cmw6ICdicm9hZGNhc3QnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2Jyb2FkY2FzdC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1ZpZGVvQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZpZGVvJ1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAgcmVzb2x2ZToge1xuICAgIC8vICAgIGxhenlMb2FkOiBmdW5jdGlvbigkb2NMYXp5TG9hZCkge1xuICAgIC8vICAgICAgIHJldHVybiAkb2NMYXp5TG9hZC5sb2FkKCdsYXp5LmRpcmVjdGl2ZS5qcycpO1xuICAgIC8vICAgfVxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbnRyb2xsZXIoJ1ZpZGVvQ29udHJvbGxlcicsIFZpZGVvQ29udHJvbGxlcik7XG5cblZpZGVvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckd2luZG93J107XG5cbmZ1bmN0aW9uIFZpZGVvQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRtZFNpZGVuYXYpIHtcbiAgdGhpcy5uYW1lID0gJ0FubmUnO1xuXG4gIHRoaXMub3BlbkxlZnRNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmNvbmZpZyh3YWl0Q29uZmlnKTtcblxuZnVuY3Rpb24gd2FpdENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndWxlYXJuLndhaXQnLCB7XG4gICAgdXJsOiAnbGVhcm4vd2FpdCcsXG4gICAgdmlld3M6IHtcbiAgICAgICcnOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvd2FpdC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1dhaXRDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnd2FpdCdcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gIHJlc29sdmU6IHtcbiAgICAvLyAgICBsYXp5TG9hZDogZnVuY3Rpb24oJG9jTGF6eUxvYWQpIHtcbiAgICAvLyAgICAgICByZXR1cm4gJG9jTGF6eUxvYWQubG9hZCgnbGF6eS5kaXJlY3RpdmUuanMnKTtcbiAgICAvLyAgIH1cbiAgfSk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKS5jb250cm9sbGVyKCdXYWl0Q29udHJvbGxlcicsIFdhaXRDb250cm9sbGVyKTtcblxuV2FpdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJHdpbmRvdyddO1xuXG5mdW5jdGlvbiBXYWl0Q29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpIHtcbiAgdGhpcy5uYW1lID0gJ0FubmUnO1xuXG4gIHRoaXMuaXRlbXMgPSBbJ29pJywgJ2tlaycsICdoYWhhJywgJ2xvbCddO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuZGlyZWN0aXZlKCdtZW51QmFycycsIG1lbnVCYXJzKTtcblxuZnVuY3Rpb24gbWVudUJhcnMoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBzY29wZToge30sXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJy4uL3RlbXBsYXRlcy9tZW51LWJhcnMuaHRtbCdcblxuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGF1dGhDb25maWcpO1xuXG5mdW5jdGlvbiBhdXRoQ29uZmlnKCRhdXRoUHJvdmlkZXIsIEFQSSkge1xuICAkYXV0aFByb3ZpZGVyLmxvZ2luVXJsID0gQVBJICsgJz9hY3Rpb249TG9naW4nO1xuICAkYXV0aFByb3ZpZGVyLmF1dGhIZWFkZXIgPSAndG9rZW4nO1xuICAkYXV0aFByb3ZpZGVyLmF1dGhUb2tlbiA9ICcnO1xuICAkYXV0aFByb3ZpZGVyLnN0b3JhZ2VUeXBlID0gJ2xvY2FsU3RvcmFnZSc7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLmZhY3RvcnkoJ0F1dGhGYWN0b3J5JywgQXV0aEZhY3RvcnkpO1xuXG5mdW5jdGlvbiBBdXRoRmFjdG9yeSgkYXV0aCwgbWQ1LCAkd2luZG93KSB7XG5cdHZhciBsb2dpbk9wdGlvbnMgPSB7XG5cdFx0aGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfVxuXHR9O1xuXG5cdHZhciBfZmFjdG9yeSA9IHtcblx0XHRsb2dpbjogZnVuY3Rpb24gbG9naW4odXNlcikge1xuXHRcdFx0cmV0dXJuICRhdXRoLmxvZ2luKHtcblx0XHRcdFx0dXNlcmVtYWlsOiB1c2VyLnVzZXJlbWFpbCxcblx0XHRcdFx0cGFzc3dvcmQ6IG1kNS5jcmVhdGVIYXNoKHVzZXIucGFzc3dvcmQpXG5cdFx0XHR9LCBsb2dpbk9wdGlvbnMpO1xuXHRcdH0sXG5cdFx0bG9naW5mYjogZnVuY3Rpb24gbG9naW5mYih0b2tlbikge1xuXHRcdFx0cmV0dXJuICRhdXRoLmxvZ2luKHtcblx0XHRcdFx0ZmJfYWNjZXNzX3Rva2VuOiB0b2tlblxuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHtcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfaWQnKTtcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG5cdFx0XHRyZXR1cm4gJGF1dGgubG9nb3V0KCk7XG5cdFx0fSxcblx0XHRpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcblx0XHRcdHJldHVybiAkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKTtcblx0XHR9LFxuXHRcdGN1cnJlbnRVc2VyOiBmdW5jdGlvbiBjdXJyZW50VXNlcigpIHtcblx0XHRcdHJldHVybiAkYXV0aC5nZXRQYXlMb2FkKCk7XG5cdFx0fSxcblx0XHRzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4odG9rZW4pIHtcblx0XHRcdHJldHVybiAkYXV0aC5zZXRUb2tlbih0b2tlbik7XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gX2ZhY3Rvcnk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndWxlYXJuLXdlYmFwcCcpLnJ1bihhdXRoUnVuKTtcblxuZnVuY3Rpb24gYXV0aFJ1bigkcm9vdFNjb3BlLCBBdXRoRmFjdG9yeSwgJHN0YXRlKSB7XG5cdCRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSkge1xuXHRcdGlmICh0b1N0YXRlLm5hbWUgPT09ICdsb2dpbicpIHtcblx0XHRcdHJldHVybiBBdXRoRmFjdG9yeS5sb2dvdXQoKTtcblx0XHR9XG5cblx0XHR2YXIgc3RhdGVSZXF1aXJlTG9naW4gPSAvXmFkbWluLy50ZXN0KHRvU3RhdGUubmFtZSk7XG5cdFx0dmFyIGlzQXV0aGVudGljYXRlZCA9IEF1dGhGYWN0b3J5LmlzQXV0aGVudGljYXRlZCgpO1xuXG5cdFx0aWYgKHN0YXRlUmVxdWlyZUxvZ2luICYmICFpc0F1dGhlbnRpY2F0ZWQpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQkc3RhdGUuZ28oJ2xvZ2luJyk7XG5cdFx0fVxuXHR9KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uZmlnKGFwaUNvbmZpZyk7XG5cbmZ1bmN0aW9uIGFwaUNvbmZpZyhBUEksICRodHRwUHJvdmlkZXIsIEZhY2Vib29rUHJvdmlkZXIpIHtcblxuICBGYWNlYm9va1Byb3ZpZGVyLmluaXQoJzM1NzI1NzUxNDY1NDIxMycpO1xuXG4gICRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG4gICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhvcml6YXRpb25JbnRlcmNlcHRvcicpO1xuXG4gIGZ1bmN0aW9uIGZ1bGxSZXF1ZXN0SW50ZXJjZXB0b3IoZWxlbWVudCwgb3BlcmF0aW9uLCByb3V0ZSwgdXJsLCBoZWFkZXJzLCBwYXJhbXMsIGh0dHBDb25maWcpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICBodHRwQ29uZmlnOiBodHRwQ29uZmlnXG4gICAgfTtcbiAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3VsZWFybi13ZWJhcHAnKVxuLy8uc2VydmljZSgnQXBpU2VydmljZScsIEFwaVNlcnZpY2UpXG4uZmFjdG9yeSgnQXV0aG9yaXphdGlvbkludGVyY2VwdG9yJywgQXV0aG9yaXphdGlvbkludGVyY2VwdG9yKTtcblxuLypmdW5jdGlvbiBBcGlTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XHJcbiAgbGV0IGhlYWRlcnMgPSB7XHJcbiAgXHQvL1xyXG4gICAgJ3VzZXJfaWQnOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpXHJcbiAgfTtcclxuXHJcbiAgbGV0IGNvbmZpZyA9IChSZXN0YW5ndWxhckNvbmZpZ3VyZXIpID0+IHtcclxuICAgIFJlc3Rhbmd1bGFyQ29uZmlndXJlci5zZXREZWZhdWx0SGVhZGVycyhoZWFkZXJzKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBSZXN0YW5ndWxhci53aXRoQ29uZmlnKGNvbmZpZyk7XHJcbn0qL1xuXG5mdW5jdGlvbiBBdXRob3JpemF0aW9uSW50ZXJjZXB0b3IoJHEsICRsb2NhdGlvbikge1xuICByZXR1cm4ge1xuICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gICAgICBpZiAoJGxvY2F0aW9uLiQkcGF0aC5pbmRleE9mKCdsb2dpbicpID09PSAtMSAmJiAkbG9jYXRpb24uJCRwYXRoLmluZGV4T2YoJ3JlZ2lzdGVyJykgPT09IC0xKSB7XG4gICAgICAgIC8vXG4gICAgICB9XG4gICAgICByZXR1cm4gY29uZmlnIHx8ICRxLndoZW4oY29uZmlnKTtcbiAgICB9LFxuICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uIHJlc3BvbnNlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgICBzd2l0Y2ggKHJlamVjdGlvbi5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQwNDpcbiAgICAgICAgICB2YXIgb3V0cHV0ID0gcmVqZWN0aW9uLmRhdGEub3V0cHV0O1xuICAgICAgICAgIGlmIChvdXRwdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKG91dHB1dC5wYXlsb2FkLm1lc3NhZ2UgPT09ICdFbXByZXNhIG7Do28gZW5jb250cmFkYS4nKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG91dHB1dC5wYXlsb2FkLm1lc3NhZ2UgPT09ICdVc3XDoXJpbyBuw6NvIGVuY29udHJhZG8uJykge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaG9zdCA9IGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lO1xuXG52YXIgQVBJID0gaG9zdCA9PT0gJ3VsZWFybi1zdGFnLmNvbS5icicgfHwgaG9zdCA9PT0gJ3VsZWFybi1zdGFnLmhlcm9rdWFwcC5jb20nID8gJ2h0dHA6Ly91bGVhcm4uY29tLmJyL2Rhc2hib2FyZC9hcGkvYXBpLnBocCcgOiBob3N0ID09PSAndWxlYXJuLmNvbS5icicgfHwgaG9zdCA9PT0gJ3d3dy51bGVhcm4uY29tLmJyJyB8fCBob3N0ID09PSAndWxlYXJuLmNvbS5icicgfHwgaG9zdCA9PT0gJ3d3dy5lbXByZXNhcy51bGVhcm4uY29tLmJyJyA/ICdodHRwOi8vdWxlYXJuLmNvbS5ici9kYXNoYm9hcmQvYXBpL2FwaS5waHAnIDogJ2h0dHA6Ly91bGVhcm4uY29tLmJyL2Rhc2hib2FyZC9hcGkvYXBpLnBocCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd1bGVhcm4td2ViYXBwJykuY29uc3RhbnQoJ0FQSScsIEFQSSk7Il0sInNvdXJjZVJvb3QiOiIuL3NyYy9hcHAifQ==
